(function(){window.handwritten={start:function(n,t){function i(n){this.linewidth=1;this.color="#000000";this.background="#ffffff";for(var i in n)this[i]=n[i];this.canvas=document.createElement("canvas");this.el.appendChild(this.canvas);this.cxt=this.canvas.getContext("2d");this.canvas.width=this.el.clientWidth;this.canvas.height=this.el.clientHeight;this.cxt.fillStyle=this.background;this.cxt.fillRect(0,0,this.canvas.width,this.canvas.height);this.cxt.fillStyle=this.background;this.cxt.strokeStyle=this.color;this.cxt.lineWidth=this.linewidth;this.cxt.lineCap="round";this.canvas.addEventListener("touchstart",function(n){this.cxt.beginPath();this.cxt.moveTo(n.changedTouches[0].pageX,n.changedTouches[0].pageY)}.bind(this),!1);this.canvas.addEventListener("touchmove",function(n){this.cxt.lineTo(n.changedTouches[0].pageX,n.changedTouches[0].pageY);this.cxt.stroke()}.bind(this),!1);this.canvas.addEventListener("touchend",function(){this.cxt.closePath()}.bind(this),!1);this.clearEl.addEventListener("click",function(){this.cxt.clearRect(0,0,this.canvas.width,this.canvas.height)}.bind(this),!1);this.saveEl.addEventListener("click",function(){var n=this.canvas.toDataURL();return t.invokeMethodAsync("invokeFromJS",n)}.bind(this),!1)}console.log("start handwritten");Date.prototype.format=function(n){var i={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()},t;/(y+)/.test(n)&&(n=n.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(t in i)new RegExp("("+t+")").test(n)&&(n=n.replace(RegExp.$1,RegExp.$1.length==1?i[t]:("00"+i[t]).substr((""+i[t]).length)));return n};document.body.addEventListener("touchmove",function(n){n.preventDefault()},{passive:!1});new i({el:document.getElementById("canvas"),clearEl:document.getElementById("clearCanvas"),saveEl:document.getElementById("saveCanvas")})}}})();